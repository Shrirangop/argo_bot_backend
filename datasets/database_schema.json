{
  "database_name": "postgres",
  "description": "Database for storing and analyzing Argo oceanographic data, including float metadata, ocean profiles, and physical/biogeochemical measurements.",
  "tables": {
    "floats": {
      "description": "Stores static metadata about each individual Argo float platform.",
      "columns": {
        "float_id": {
          "type": "INTEGER",
          "nullable": false,
          "primary_key": true,
          "description": "Unique identifier for each Argo float."
        },
        "model": {
          "type": "VARCHAR(255)",
          "nullable": true,
          "description": "Model type of the Argo float."
        }
      },
      "relationships": [
        "One-to-many with profiles (a float can record multiple profiles)"
      ]
    },
    "profiles": {
      "description": "Central table where each row represents a single vertical ocean profile (an ascent or descent).",
      "columns": {
        "profile_id": {
          "type": "INTEGER",
          "nullable": false,
          "primary_key": true,
          "auto_increment": true,
          "description": "Unique, auto-incrementing integer serving as the primary key for profiles."
        },
        "float_id": {
          "type": "INTEGER",
          "nullable": false,
          "foreign_key": "floats.float_id",
          "description": "Links a profile to the specific float that recorded it."
        },
        "is_bgc": {
          "type": "BOOLEAN",
          "nullable": false,
          "description": "Flag indicating if the profile has corresponding biogeochemical (BGC) entries (TRUE/FALSE)."
        },
        "location": {
          "type": "GEOMETRY(Point, 4326)",
          "nullable": true,
          "description": "Geographic coordinates (longitude, latitude) where the profile was taken."
        },
        "direction": {
          "type": "VARCHAR(50)",
          "nullable": true,
          "description": "Direction of the profile (e.g., 'ascent', 'descent')."
        },
        "cycle_number": {
          "type": "INTEGER",
          "nullable": true,
          "description": "Cycle number of the float when the profile was recorded."
        },
        "profile_time": {
          "type": "TIMESTAMP",
          "nullable": false,
          "description": "Exact time the profile was taken. Used as partition key for performance."
        }
      },
      "indexes": [
        "idx_profiles_is_bgc",
        "idx_profiles_location",
        "idx_profiles_float_id",
        "idx_profiles_profile_time"
      ],
      "relationships": [
        "Many-to-one with floats (profiles are recorded by a float)",
        "One-to-many with measurements (a profile has many depth-level measurements)"
      ]
    },
    "measurements": {
      "description": "Largest table, containing core physical sensor readings (pressure, temperature, salinity) for each depth level of all profiles.",
      "columns": {
        "measurement_id": {
          "type": "BIGINT",
          "nullable": false,
          "primary_key": true,
          "auto_increment": true,
          "description": "Unique identifier for each measurement record."
        },
        "profile_id": {
          "type": "BIGINT",
          "nullable": false,
          "foreign_key": "profiles.profile_id",
          "on_delete": "CASCADE",
          "description": "Links each measurement record to its parent profile."
        },
        "pressure": {
          "type": "DOUBLE PRECISION",
          "nullable": false,
          "description": "Pressure in decibars (proxy for depth)."
        },
        "temperature": {
          "type": "DOUBLE PRECISION",
          "nullable": true,
          "description": "In-situ sea water temperature in degrees Celsius."
        },
        "salinity": {
          "type": "DOUBLE PRECISION",
          "nullable": true,
          "description": "Practical salinity of the sea water."
        }
      },
      "indexes": [
        "idx_measurements_profile_id",
        "idx_measurements_pressure"
      ],
      "relationships": [
        "Many-to-one with profiles (measurements belong to a profile)",
        "One-to-one with bgc_measurements (a physical measurement can have optional BGC readings)"
      ]
    },
    "bgc_measurements": {
      "description": "Stores specific biogeochemical (BGC) sensor readings, only for BGC-enabled profiles.",
      "columns": {
        "measurement_id": {
          "type": "BIGINT",
          "nullable": false,
          "primary_key": true,
          "foreign_key": "measurements.measurement_id",
          "description": "Primary key and foreign key linking directly to measurements.measurement_id, creating a one-to-one relationship."
        },
        "oxygen": {
          "type": "NUMERIC",
          "nullable": true,
          "description": "Dissolved oxygen concentration in µmol/kg."
        },
        "nitrate": {
          "type": "NUMERIC",
          "nullable": true,
          "description": "Nitrate concentration in µmol/kg."
        },
        "chlorophyll": {
          "type": "NUMERIC",
          "nullable": true,
          "description": "Chlorophyll-a concentration in mg/m^3."
        }
      },
      "indexes": [
        "idx_bgc_measurements_oxygen",
        "idx_bgc_measurements_nitrate",
        "idx_bgc_measurements_chlorophyll"
      ],
      "relationships": [
        "One-to-one with measurements (BGC measurements correspond to a physical measurement point)"
      ]
    }
  }
}
