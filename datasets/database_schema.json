{
  "database_name": "sih_data",
  "description": "Database for storing and analyzing Argo oceanographic data, including float metadata, ocean profiles, and physical/biogeochemical measurements.",
  "tables": {
    "floats": {
      "description": "Stores static metadata about each individual Argo float platform.",
      "columns": {
        "float_id": {
          "type": "INTEGER",
          "nullable": false,
          "primary_key": true,
          "description": "Unique identifier for each Argo float."
        },
        "model": {
          "type": "TEXT",
          "nullable": true,
          "description": "Model type of the Argo float."
        }
      },
      "relationships": [
        "One-to-many with profiles (a float can record multiple profiles)"
      ]
    },
    "profiles": {
      "description": "Central table where each row represents a single vertical ocean profile. Uniquely identified by a combination of the float ID, its cycle number, and the profile direction.",
      "columns": {
        "float_id": {
          "type": "INTEGER",
          "nullable": false,
          "foreign_key": "floats.float_id",
          "on_delete": "CASCADE",
          "description": "Links a profile to the specific float that recorded it. Part of the composite primary key."
        },
        "cycle_number": {
          "type": "INTEGER",
          "nullable": false,
          "description": "Cycle number of the float when the profile was recorded. Part of the composite primary key."
        },
        "direction": {
          "type": "CHAR(1)",
          "nullable": false,
          "description": "Direction of the profile (e.g., 'A' for ascent, 'D' for descent). Part of the composite primary key."
        },
        "profile_time": {
          "type": "TIMESTAMP WITH TIME ZONE",
          "nullable": false,
          "description": "Exact time the profile was taken."
        },
        "location": {
          "type": "GEOGRAPHY(Point, 4326)",
          "nullable": true,
          "description": "Geographic coordinates (longitude, latitude) as a GEOGRAPHY type. Important: For spatial queries, use geography-aware functions like ST_Lat or cast to geometry (e.g., ST_Y(location::geometry)) to avoid type errors."
        }
      },
      "primary_key": [
        "float_id",
        "cycle_number",
        "direction"
      ],
      "indexes": [
        "profiles_pkey",
        "idx_profiles_location",
        "idx_profiles_time"
      ],
      "relationships": [
        "Many-to-one with floats (profiles are recorded by a float)",
        "One-to-many with measurements (a profile has many depth-level measurements)",
        "One-to-many with bgc_measurements (a profile can have many BGC measurements)"
      ]
    },
    "measurements": {
      "description": "Largest table, containing core physical sensor readings (pressure, temperature, salinity) for each depth level of all profiles. Each measurement is uniquely identified by its parent profile and pressure level. If you want location for measurements, join with the 'profiles' table. use profile table with FK or JOIN operation to access location corrosponding to measurements.",
      "columns": {
        "float_id": {
          "type": "INTEGER",
          "nullable": false,
          "description": "Part of the composite primary and foreign key, identifying the float."
        },
        "cycle_number": {
          "type": "INTEGER",
          "nullable": false,
          "description": "Part of the composite primary and foreign key, identifying the cycle."
        },
        "direction": {
          "type": "CHAR(1)",
          "nullable": false,
          "description": "Part of the composite primary and foreign key, identifying the profile direction."
        },
        "pressure": {
          "type": "REAL",
          "nullable": false,
          "description": "Pressure in decibars (proxy for depth). Part of the composite primary key."
        },
        "temperature": {
          "type": "REAL",
          "nullable": true,
          "description": "In-situ sea water temperature in degrees Celsius."
        },
        "salinity": {
          "type": "REAL",
          "nullable": true,
          "description": "Practical salinity of the sea water."
        },
        "profile_time": {
          "type": "TIMESTAMP WITH TIME ZONE",
          "nullable": true,
          "description": "Denormalized profile time for performance."
        }
      },
      "primary_key": [
        "float_id",
        "cycle_number",
        "direction",
        "pressure"
      ],
      "foreign_keys": [
        {
          "columns": ["float_id", "cycle_number", "direction"],
          "references": "profiles",
          "on_delete": "CASCADE"
        }
      ],
      "indexes": [
        "measurements_pkey",
        "idx_measurements_pressure",
        "idx_measurements_profile"
      ],
      "relationships": [
        "Many-to-one with profiles (measurements belong to a profile)",
        "One-to-one with bgc_measurements (a physical measurement can have optional BGC readings, joined on the composite primary key)"
      ]
    },
    "bgc_measurements": {
      "description": "Stores specific biogeochemical (BGC) sensor readings. A row exists here only if the corresponding measurement in the 'measurements' table has BGC data.",
      "columns": {
        "float_id": {
          "type": "INTEGER",
          "nullable": false,
          "description": "Part of the composite primary and foreign key, identifying the float."
        },
        "cycle_number": {
          "type": "INTEGER",
          "nullable": false,
          "description": "Part of the composite primary and foreign key, identifying the cycle."
        },
        "direction": {
          "type": "CHAR(1)",
          "nullable": false,
          "description": "Part of the composite primary and foreign key, identifying the profile direction."
        },
        "pressure": {
          "type": "REAL",
          "nullable": false,
          "description": "Pressure in decibars. Part of the composite primary key."
        },
        "doxy": {
          "type": "REAL",
          "nullable": true,
          "description": "Dissolved oxygen concentration in µmol/kg."
        },
        "chla": {
          "type": "REAL",
          "nullable": true,
          "description": "Chlorophyll-a concentration in mg/m^3."
        },
        "nitrate": {
          "type": "REAL",
          "nullable": true,
          "description": "Nitrate concentration in µmol/kg."
        },
        "bbp700": {
          "type": "REAL",
          "nullable": true,
          "description": "Optical backscattering at 700nm."
        },
        "ph_in_situ_total": {
          "type": "REAL",
          "nullable": true,
          "description": "In-situ pH on the total scale."
        }
      },
      "primary_key": [
        "float_id",
        "cycle_number",
        "direction",
        "pressure"
      ],
      "foreign_keys": [
        {
          "columns": ["float_id", "cycle_number", "direction"],
          "references": "profiles",
          "on_delete": "CASCADE"
        }
      ],
      "indexes": [
        "bgc_measurements_pkey",
        "idx_bgc_pressure"
      ],
      "relationships": [
        "One-to-one with measurements (BGC data corresponds to a physical measurement, linked by their shared composite primary key)",
        "Many-to-one with profiles (BGC measurements belong to a profile)"
      ]
    }
  }
}